FROM node:alpine

WORKDIR /app/Online-Store-App.CommonLib

COPY Online-Store-App.CommonLib/package*.json ./

RUN npm install

RUN npm run build

WORKDIR /app/Online-Store-App.Users

COPY Online-Store-App.Users/package*.json ./

RUN npm install

WORKDIR /app

COPY . .

EXPOSE 3000

WORKDIR /app/Online-Store-App.Users

CMD ["npm", "run", "dev"]